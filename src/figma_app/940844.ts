import { pluginAPIService } from "../905/3209"
import { widgetAPIClient } from "../905/424668"
import { BadgeType } from "../905/875063"
import { TeamOrgType } from "../figma_app/10554"
import { getInitialOptions } from "../figma_app/169182"
import { getMainContent } from "../figma_app/427318"

let d = {
  id: "4317920",
  team_id: null,
  org_id: "675025436003846244",
  location: "San Francisco, CA",
  profile_handle: "asana",
  public_at: "2020-05-06T20:49:58.442Z",
  follower_count: 341,
  following_count: 0,
  primary_user_id: null,
  name: "Asana",
  img_url: "https://s3-alpha.figma.com/profile/d8034acd-76dd-4b36-98da-58fdf79529f2",
  img_urls: {
    "120_120": "https://s3-alpha.figma.com/profile/d8034acd-76dd-4b36-98da-58fdf79529f2",
    "500_500": "https://s3-alpha.figma.com/profile/5c98d80b-d276-446c-8080-7e586b085612",
  },
  current_user_is_following: !1,
  current_user_is_followed: !1,
  is_restricted_by_current_user: !1,
  entity_type: TeamOrgType.ORG,
  website: "asana.design",
  twitter: "twitter.com/asanadesignteam",
  instagram: "instagram.com/asanadesignteam",
  description: "We\u2019re the Design team behind Asana.\nWe design the future of teamwork. \u2728\n\nJoin us: asana.com/jobs/product",
  pronouns: null,
  has_shared_teams: null,
  has_shared_orgs: null,
  redirect_cover_image_url: "/profile/4317920/cover_image",
  is_community_beta: !0,
  badges: [BadgeType.FIGMA_PARTNER],
}
let c = {
  id: "1521",
  team_id: null,
  org_id: "703355754804194517",
  location: "Sydney, Australia",
  profile_handle: "atlassian",
  public_at: "2020-06-22T18:25:34.800Z",
  follower_count: 4297,
  following_count: 0,
  primary_user_id: null,
  name: "Atlassian",
  img_url: "https://s3-alpha.figma.com/profile/c1b2cbe9-346d-4ba4-9af0-aca1bc444657",
  img_urls: {
    "120_120": "https://s3-alpha.figma.com/profile/c1b2cbe9-346d-4ba4-9af0-aca1bc444657",
    "500_500": "https://s3-alpha.figma.com/profile/26a88a1d-27d7-460c-9301-dd0910d39614",
  },
  current_user_is_following: !1,
  current_user_is_followed: !1,
  is_restricted_by_current_user: !1,
  entity_type: TeamOrgType.ORG,
  website: "https://atlassian.com",
  twitter: null,
  instagram: null,
  description: "The official home of Atlassian's design resources in Figma.",
  pronouns: null,
  has_shared_teams: null,
  has_shared_orgs: null,
  redirect_cover_image_url: "/profile/1521/cover_image",
  is_community_beta: !0,
  badges: [BadgeType.FIGMA_PARTNER],
}
let u = {
  id: "1608",
  team_id: null,
  org_id: "797266083973274396",
  location: null,
  profile_handle: "github",
  public_at: "2020-02-12T18:27:36.218Z",
  follower_count: 126,
  following_count: 0,
  primary_user_id: null,
  name: "GitHub",
  img_url: "https://s3-alpha.figma.com/profile/2789d808-2da3-4e73-a540-a7333e924556",
  img_urls: {
    "120_120": "https://s3-alpha.figma.com/profile/2789d808-2da3-4e73-a540-a7333e924556",
    "500_500": "https://s3-alpha.figma.com/profile/84ae1734-e47e-4945-884c-f536e5d3f427",
  },
  current_user_is_following: !1,
  current_user_is_followed: !1,
  is_restricted_by_current_user: !1,
  entity_type: TeamOrgType.ORG,
  website: "https://www.github.com",
  twitter: null,
  instagram: null,
  description: null,
  pronouns: null,
  has_shared_teams: null,
  has_shared_orgs: null,
  redirect_cover_image_url: "",
  is_community_beta: !1,
  badges: [BadgeType.FIGMA_PARTNER],
}
let p = {
  id: "1731",
  team_id: null,
  org_id: null,
  location: "Los Angeles, CA",
  profile_handle: "snap",
  public_at: "2020-03-02T14:56:23.081Z",
  follower_count: 17,
  following_count: 0,
  primary_user_id: null,
  name: "Snapchat",
  img_url: "https://s3-alpha.figma.com/profile/7a97c4dc-8a42-4273-bcdd-d97bcabcd0b2",
  img_urls: {
    "120_120": "https://s3-alpha.figma.com/profile/7a97c4dc-8a42-4273-bcdd-d97bcabcd0b2",
    "500_500": "https://s3-alpha.figma.com/profile/7bbd1ecd-0481-4423-9092-58ec01c00d68",
  },
  current_user_is_following: !1,
  current_user_is_followed: !1,
  is_restricted_by_current_user: !1,
  entity_type: TeamOrgType.ORG,
  website: "https://www.snapchat.com/l/en-gb/",
  twitter: null,
  instagram: null,
  description: null,
  pronouns: null,
  has_shared_teams: null,
  has_shared_orgs: null,
  redirect_cover_image_url: "/profile/1731/cover_image",
  is_community_beta: !1,
  badges: [],
}
let _ = {
  id: "2480257",
  team_id: null,
  org_id: null,
  location: "San Francisco, CA",
  profile_handle: "figma",
  public_at: "2019-10-21T22:53:16.561Z",
  follower_count: 16253,
  following_count: 53,
  primary_user_id: "768244674400796816",
  name: "Figma",
  img_url: "https://s3-alpha.figma.com/profile/c82ecc52-1c47-405d-980b-904ff54c6577",
  img_urls: {
    "120_120": "https://s3-alpha.figma.com/profile/c82ecc52-1c47-405d-980b-904ff54c6577",
    "500_500": "https://s3-alpha.figma.com/profile/c4bc0357-6f54-412a-ac89-f311905bbec5",
  },
  current_user_is_following: !1,
  current_user_is_followed: !1,
  is_restricted_by_current_user: !1,
  entity_type: TeamOrgType.USER,
  website: "www.figma.com",
  twitter: "twitter.com/figma",
  instagram: "instagram.com/figma",
  description: "Figma is the design tool for teams who build products together. Claim your community profile here: https://bit.ly/3euhKR9",
  pronouns: null,
  has_shared_teams: !1,
  has_shared_orgs: null,
  redirect_cover_image_url: "/profile/2480257/cover_image",
  is_community_beta: !0,
  badges: [],
}
let h = "1098405969270214551"
let m = "1094001923188252679"
let g = "1101944648482192724"
let f = "1151936790942917527"
let E = {
  [d.id]: h,
  [u.id]: g,
  [c.id]: m,
  [p.id]: f,
}
let y = "1220512233196109878"
let b = "1220802563996996107"
let T = {
  [u.id]: y,
  [c.id]: b,
}
function I() {
  return getInitialOptions().cluster_name === "prod"
}
function S(e) {
  if (!I())
    return []
  switch (e) {
    case h:
      return [_, d]
    case b:
    case m:
      return [_, c]
    case y:
    case g:
      return [_, u]
    case f:
      return [_, p]
    default:
      return []
  }
}
export function $$v1(e) {
  if (!I())
    return e
  let t = S(e.id)
  if (t.length === 0)
    return e
  let r = (e.community_publishers?.accepted ?? []).filter(e => !t.find(t => t.id === e.id))
  let n = t.concat(r)
  return {
    ...e,
    community_publishers: {
      ...e.community_publishers,
      accepted: n,
    },
  }
}
export function $$A0(e) {
  if (!I())
    return e
  let t = getMainContent(e)?.id
  if (!t)
    return e
  let r = S(t)
  if (r.length === 0)
    return e
  let n = (e.community_publishers?.accepted ?? []).filter(e => !r.find(t => t.id === e.id))
  let a = r.concat(n)
  return {
    ...e,
    community_publishers: {
      ...e.community_publishers,
      accepted: a,
    },
  }
}
export function $$x4(e, t) {
  let r = S(e).map(e => e.name)
  if (r.length === 0)
    return t
  let n = t.filter(e => !r.includes(e))
  return r.concat(n)
}
export async function $$N2(e) {
  if (!I())
    return []
  try {
    let t = E[e]
    if (t) {
      let e = (await widgetAPIClient.getVersions({
        widgetId: t,
      })).data.meta.plugin
      return [$$v1(e)]
    }
  }
  catch (e) {
    console.error(e)
  }
  return []
}
export async function $$C3(e) {
  if (!I())
    return []
  try {
    let t = T[e]
    if (t) {
      let e = (await pluginAPIService.getVersions({
        pluginId: t,
      })).data.meta.plugin
      return [$$v1(e)]
    }
  }
  catch (e) {
    console.error(e)
  }
  return []
}
export const $f = $$A0
export const I$ = $$v1
export const Jr = $$N2
export const UM = $$C3
export const cG = $$x4
